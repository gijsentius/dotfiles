if [ -z $TMUX ] && [[ "$(tmux list-sessions | grep -c workspace)" -ge 1 ]]; then
  tmux attach -t workspace
elif [ -z $TMUX ]; then
  tmux new-session -s workspace
fi

# The next line updates PATH for the Google Cloud SDK.
if [ -f '/Users/gijs/Downloads/google-cloud-sdk/path.zsh.inc' ]; then . '/Users/gijs/Downloads/google-cloud-sdk/path.zsh.inc'; fi

# The next line enables shell command completion for gcloud.
if [ -f '/Users/gijs/Downloads/google-cloud-sdk/completion.zsh.inc' ]; then . '/Users/gijs/Downloads/google-cloud-sdk/completion.zsh.inc'; fi

# Configure fuzzy finder
source <(fzf --zsh)
#test -f /usr/share/doc/fzf/examples/completion.zsh && source /usr/share/doc/fzf/examples/completion.zsh
#test -f /usr/share/doc/fzf/examples/key-bindings.zsh && source /usr/share/doc/fzf/examples/key-bindings.zsh

source ~/.config/kube_complete.sh

eval "$(starship init zsh)"

# History settings
export HISTFILE="$HOME/.zsh_history"
export HISTSIZE=1000000000
export SAVEHIST=1000000000
setopt EXTENDED_HISTORY
setopt    appendhistory     #Append history to the history file (no overwriting)
setopt    sharehistory      #Share history across terminals
setopt    incappendhistory  #Immediately append to the history file, not just when a term is killed

# Brew specifics
if [[ $(command -v brew) != "" ]]; then
    export PKG_CONFIG_PATH="$(brew --prefix)/Cellar/mysql-client/9.0.1/lib/pkgconfig"
fi

source ~/.zsh_aliases
if [ -f '~/.zsh_custom' ]; then source ~/.zsh_custom; fi
